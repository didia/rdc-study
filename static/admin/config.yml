backend:
  name: git-gateway
  accept_roles:
    - admin
    - editor
  branch: master
slug:
  encoding: "ascii"
  clean_accents: true
media_folder: "static/images/uploads"
public_folder: "/images/uploads"
collections:
  - name: "article"
    label: "Article"
    folder: "data/articles"
    create: true
    sort: "date:desc"
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - {label: "Titre", name: "title", widget: "string"}
      - {label: "Brève", name: "excerpt", widget: "text"}
      - {label: "Image principale de l’article", name: "thumbnail", widget: "image"}
      - {label: "Crédits de l’image principale", name: "thumbnailCredits", widget: "text", required: false}
      - {label: "Contenu", name: "body", widget: "markdown"}
      - {label: "Mots clés", name: "tags", widget: "list", required: false}
      - {label: "Date de publication", name: "date", widget: "datetime"}
  - label: "Pages"
    name: "pages"
    files:
      - label: "Foire aux questions"
        name: "faqs"
        file: "data/faqs.json"
        fields:
          - name: "entries"
            label: "Entrées"
            widget: list
            fields:
              - {label: "Question", name: "question", widget: "string"}
              - {label: "Réponse", name: "answer", widget: "markdown"}
  - label: "Bourses d'études"
    name: "scholarships"
    folder: "data/scholarships"
    create: true
    sort: "date:desc"
    slug: "{{slug}}"
    fields:
      - {label: "Nom de la bourse", name: "name", widget: "string"}
      - {label: "Date limite", name: "deadline", widget: "datetime"}
      - {label: "Pays de destination", name: "target_country", widget: "select", multiple: true, options: [{value: "ca", label: "Canada"}, {value: "us", label: "Etats-Unis"}, {value: "gb", label: "Grande-Bretagne"}, {value: "fr", label: "France"}, {value: "be", label: "Belgique"}]}
      - {label: "Article rélié la bourse", name: "related_article", widget: "relation", collection: "article", displayFields: ["title"], searchFields: ["title", "excerpt"], valueField: "slug", required: false}
      - {label: "En quoi consiste la bourse ?", name: "amount", widget: "markdown"}
      - {label: "Description de la bourse", name: "description", widhet: "markdown"}
