backend:
  name: git-gateway
  accept_roles:
    - admin
    - editor
  branch: master
slug:
  encoding: ascii
  clean_accents: true
media_folder: static/images/uploads
public_folder: /images/uploads
collections:
  - name: article
    label: Article
    folder: data/articles
    create: true
    sort: date:desc
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - {label: "Titre", name: "title", widget: "string"}
      - {label: "Brève", name: "excerpt", widget: "text"}
      - {label: "Image principale de l’article", name: "thumbnail", widget: "image"}
      - {label: "Crédits de l’image principale", name: "thumbnailCredits", widget: "text", required: false}
      - {label: "Contenu", name: "body", widget: "markdown"}
      - {label: "Mots clés", name: "tags", widget: "list", required: false}
      - {label: "Date de publication", name: "date", widget: "datetime"}
  - label: Bourse d'études
    name: scholarships
    folder: data/scholarships
    create: true
    sort: date:desc
    slug: "{{slug}}"
    fields:
      - {label: "Nom de la bourse", name: "title", widget: "string", pattern: ['^.{1,100}.$', "Le nom de la bourse doit avoir moins de 60 caractères"]}
      - {label: "Date limite", name: "deadline", widget: "date", required: false}
      - {label: "Brève", name: "excerpt", widget: "text", pattern: ['^.{1,300}.$', "Le resumé de la bourse doit avoir moins de 300 caractères"]}
      - {label: "Contenu", name: "body", widget: "markdown", default: "## En quoi consiste la bourse ?\n## Quelles sont les critères de la bourse ?\n## Comment postuler ?\n"}
      - {label: "Mots clés", name: "tags", widget: "list", required: false}
      - {label: "Image principale de l’article", name: "thumbnail", widget: "image"}
      - {label: "Crédits de l’image principale", name: "thumbnailCredits", widget: "text", required: false}
      - {label: "Date d'ouverture de candidature", name: "startDate", widget: "date", required: false}
      - label: Cycles visées
        name: levels
        widget: select
        multiple: true
        default: all
        options:
          - label: Doctorat
            value: postgraduate
          - label: Licence
            value: undergraduate
          - label: Master
            value: graduate
          - label: Recherches
            value: research
          - label: Stages
            value: internship
          - label: Tous les cycles
            value: all
      - label: Pays de destination
        name: targetCountries
        widget: select
        multiple: true
        options:
          - label: Afrique
            value: africa
          - label: Afrique du Sud
            value: sa
          - label: Allemagne
            value: de
          - label: Belgique
            value: be
          - label: Brésil
            value: br
          - label: Canada
            value: ca
          - label: Chine
            value: cn
          - label: Etats-Unis
            value: us
          - label: France
            value: fr
          - label: Japon
            value: jp
          - label: RDC
            value: cd
          - label: Roumanie
            value: ro
          - label: Royaume-Uni
            value: gb
          - label: Suisse
            value: ch
          - label: Turquie
            value: tr
  - label: Pages
    name: pages
    files:
      - label: Foire aux questions
        name: faqs
        file: data/faqs.json
        fields:
          - name: entries
            label: Entrées
            widget: list
            fields:
              - {label: "Question", name: "question", widget: "string"}
              - {label: "Réponse", name: "answer", widget: "markdown"}